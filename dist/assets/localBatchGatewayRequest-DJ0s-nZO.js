import{a5 as l,b_ as h,a9 as w,cz as g,bA as A,cA as F,ao as N,by as E,cB as m,cC as P,ah as y,b6 as I,cD as b,cE as R,cF as q,cG as f,cH as G}from"./index-Bsg2FTJn.js";function M(e,n){if(!l(e,{strict:!1}))throw new h({address:e});if(!l(n,{strict:!1}))throw new h({address:n});return e.toLowerCase()===n.toLowerCase()}function H(e){const{abi:n,data:s}=e,a=w(s,0,4),t=n.find(r=>r.type==="function"&&a===g(A(r)));if(!t)throw new F(a,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:t.name,args:"inputs"in t&&t.inputs&&t.inputs.length>0?N(t.inputs,w(s,4)):void 0}}const u="/docs/contract/encodeErrorResult";function p(e){const{abi:n,errorName:s,args:a}=e;let t=n[0];if(s){const c=E({abi:n,args:a,name:s});if(!c)throw new m(s,{docsPath:u});t=c}if(t.type!=="error")throw new m(void 0,{docsPath:u});const r=A(t),o=g(r);let i="0x";if(a&&a.length>0){if(!t.inputs)throw new P(t.name,{docsPath:u});i=y(t.inputs,a)}return I([o,i])}const d="/docs/contract/encodeFunctionResult";function v(e){const{abi:n,functionName:s,result:a}=e;let t=n[0];if(s){const o=E({abi:n,name:s});if(!o)throw new b(s,{docsPath:d});t=o}if(t.type!=="function")throw new b(void 0,{docsPath:d});if(!t.outputs)throw new R(t.name,{docsPath:d});const r=(()=>{if(t.outputs.length===0)return[];if(t.outputs.length===1)return[a];if(Array.isArray(a))return a;throw new q(a)})();return y(t.outputs,r)}const x="x-batch-gateway:true";async function B(e){const{data:n,ccipRequest:s}=e,{args:[a]}=H({abi:f,data:n}),t=[],r=[];return await Promise.all(a.map(async(o,i)=>{try{r[i]=o.urls.includes(x)?await B({data:o.data,ccipRequest:s}):await s(o),t[i]=!1}catch(c){t[i]=!0,r[i]=C(c)}})),v({abi:f,functionName:"query",result:[t,r]})}function C(e){return e.name==="HttpRequestError"&&e.status?p({abi:f,errorName:"HttpError",args:[e.status,e.shortMessage]}):p({abi:[G],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}export{B as a,H as d,M as i,x as l};
